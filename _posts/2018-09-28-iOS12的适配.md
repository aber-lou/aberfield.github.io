---
layout: mypost
title: iOS 12.0 以及 iPhone XS等设备适配
---

### iOS12 适配

+ iOS 12 中正式删除了libstdc++6.0.9.tbd，所以有引用了libstdc++6.0.9的话，会提示 ```lstlibc++ 6.0.9 not found```，一般解决办法是将其替换成libc++.tdb。但是一般引用此包的都是第三方库静态库文件，这个时候就需要等到第三方静态库的更新了。

    - 项目中主要是```TalkingData```、 ```QIYU```，有用到libstdc++6.0.9，所以主要的解决办法是Pod更新以及替换项目中TalkingData静态库。


+ 在iPhone XS Max上运行项目时，发现页面模糊，图标元素被放大了。引起这个的原因主要项目中启动页没有使用storyboard，而是使用的LaunchImage，所以没有配置iPhone XS Max启动页的情况，导致项目运行在Max上时是基于iPhone X尺寸进行缩放，所以会显得比较粗糙。可以看看在未设置启动页的情况下， ``` po UIScreen.main ``` 的宽高，显示的是 (375，812)。解决办法，叫设计妹子给出对应的启动图设置即可。后期考虑使用使用LaunchImage.storyboard去处理启动页，就不会存在出现新设备的情况需要新增启动页了。


+ 升级到了Swift 4.2，项目中之前有些枚举使用了hashValue，在Swift4.2 之前，如果枚举没有设置Hashable协议，重写Hashable构造方法，则hashValue 和 rawValue值是相等的，所以在升级之后会导致默写拿hashValue值的地方出问题，统一替换了一下。

+ swift 4.2 枚举有一个新的协议叫CaseIterable，项目中有使用到枚举数组的替换了一遍。